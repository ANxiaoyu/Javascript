<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
<style>
#parent{width:600px;height:20px;background:#ccc;position:relative;margin:10px auto;}
#div1{width:20px;height:20px;background:red;position:absolute;left:0;top:0;}
#div2{width:400px;height:200px;border:1px solid black;overflow:hidden;position:relative;}
#div3{position:absolute;left:0;top:0;padding:4px;}
</style>
<script>
window.onload=function()
{
	var oDiv=document.getElementById('div1');
	var oParent=document.getElementById('parent');
	var oDiv2=document.getElementById('div2');
	var oDiv3=document.getElementById('div3');

	var disX=0;
	

	oDiv.onmousedown=function(ev) //鼠标按下
	{
		var oEvent=ev||event;
		//确定鼠标相对于div的固定位置
		disX=oEvent.clientX-oDiv.offsetLeft; //鼠标距离div的左边距
		

		document.onmousemove=function(ev) //鼠标按下后移动
		{
			var oEvent=ev||event;
			//根据鼠标坐标确定div的坐标
			var l=oEvent.clientX-disX;
			
			//解决用户把框拖出页面
			if(l<0)
			{
				l=0;
			}
			else if(l>oParent.offsetWidth-oDiv.offsetWidth)
			{
				l=oParent.offsetWidth-oDiv.offsetWidth;
			}
			
			oDiv.style.left=l+'px';
			
			var scale=l/(oParent.offsetWidth-oDiv.offsetWidth);//自定义滚动条关联
			document.title=scale;

			oDiv3.style.top=-scale*(oDiv3.offsetHeight-oDiv2.offsetHeight)+'px';
			//负号是为了让文字向上移动
			

		}

		document.onmouseup=function() //鼠标抬起停止移动
		{
			document.onmousemove=null;
			document.onmouseup=null;
		}

		return false; //解决火狐bug

	}
}	
</script>
</head>
<body>
<div id="parent">
	<div id="div1"></div>
</div>
<div id="div2">
	<div id="div3">
		网易云课堂，是网易公司打造的在线实用技能学习平台，该平台于2012年12月底正式上线，主要为学习者提供海量、优质的课程，用户可以根据自身的学习程度，自主安排学习进度。立足于实用性的要求，网易云课堂与多家教育、培训机构建立合作，课程数量已达4100+，课时总数超50000,涵盖实用软件、IT与互联网、外语学习、生活家居、兴趣爱好、职场技能、金融管理、考试认证、中小学、亲子教育等十余大门类。2018年5月7日，网易云课堂联手动画工作室东方梦工厂，开设零基础动画课程。网易云课堂，是网易公司打造的在线实用技能学习平台，该平台于2012年12月底正式上线，主要为学习者提供海量、优质的课程，用户可以根据自身的学习程度，自主安排学习进度。立足于实用性的要求，网易云课堂与多家教育、培训机构建立合作，课程数量已达1100+，课时总数超16000,涵盖实用软件、IT与互联网、外语学习、生活家居、兴趣爱好、职场技能、经融管理、考试认证、中小学、亲子教育等十余大门类。云课拥有Web端、iPad端。
	</div>
</div>	
</body>
</html>